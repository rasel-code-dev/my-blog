var _=Object.defineProperty;var r=Object.getOwnPropertySymbols;var x=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable;var l=(o,t,a)=>t in o?_(o,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):o[t]=a,i=(o,t)=>{for(var a in t||(t={}))x.call(t,a)&&l(o,a,t[a]);if(r)for(var a of r(t))v.call(t,a)&&l(o,a,t[a]);return o};import{R as m,_ as d,a as N,d as D,g as k}from"./index.340d9940.js";import{r as p,j as u,R as e,S as y,s as P,i as g,u as L,N as R,L as w}from"./vendor.0fd0999c.js";const A=m(()=>d(()=>import("./AddPostSimple.87548b50.js"),["assets/AddPostSimple.87548b50.js","assets/index.340d9940.js","assets/index.3ec28c87.css","assets/vendor.0fd0999c.js","assets/Skeleton.9dff840e.js","assets/Skeleton.8af0afb5.css"])),j=m(()=>d(()=>import("./DatabaseFiles.09270698.js"),["assets/DatabaseFiles.09270698.js","assets/DatabaseFiles.a4426f01.css","assets/vendor.0fd0999c.js","assets/index.340d9940.js","assets/index.3ec28c87.css"])),b=p.exports.lazy(()=>d(()=>import("./Login.3cc95cf4.js"),["assets/Login.3cc95cf4.js","assets/index.340d9940.js","assets/index.3ec28c87.css","assets/vendor.0fd0999c.js"])),z=o=>{const t=u(n=>n.authState);function a(n){return n?[{path:"/admin/dashboard",exact:!0,component:S},{path:"/admin/dashboard/add-post/:postId",exact:!0,component:A},{path:"/admin/dashboard/files",exact:!0,component:j}]:[{path:"/admin/dashboard",component:b},{path:"/admin/dashboard/add-post/:postId",component:b}]}return e.createElement("div",{className:"container px-15"},e.createElement(y,null,e.createElement(p.exports.Suspense,{fallback:e.createElement(P,null)},a(t.id).map(n=>e.createElement(g,i({},n))))))},S=o=>{const t=u(s=>s.postState),a=L();e.useEffect(()=>{t.posts&&t.posts.length===0&&N(a)},[]);const n=[{to:"/admin/dashboard/add-post/null",exact:!0,text:"Add Post"},{to:"/admin/dashboard/files",exact:!0,text:"Database Files"}];function h(s){a(D(s))}function E(){k().get("/api/backup",{responseType:"blob"}).then(s=>{const f=window.URL.createObjectURL(new Blob([s.data])),c=document.createElement("a");c.href=f,c.setAttribute("download","backup.zip"),document.body.appendChild(c),c.click(),c.remove()})}return e.createElement("div",{className:"container px-4"},e.createElement("h2",{className:"my-2"},"Admin Dashboard"),e.createElement("div",{className:"flex dashboard-navigation bg-pink-300 items-center justify-centers shadow_1 mb-4"},n.map(s=>e.createElement("li",{className:"mx-2 py-1.5"},e.createElement(R,{className:"text-white",to:s.to},s.text)))),e.createElement("button",{className:"btn mb-2",onClick:E},"Download server backup Database"),e.createElement("h4",null,"All Posts"),t.posts.map(s=>e.createElement("div",{className:"my-1"},e.createElement("div",{className:"flex justify-between bg-gray-9 bg-opacity-50 py-2"},e.createElement("h4",null,s.title),e.createElement("span",null,e.createElement(w,{to:`/admin/dashboard/add-post/${s.id}`},e.createElement("i",{className:"pointer fa fa-pen"})),e.createElement("i",{onClick:()=>h(s.id),className:"pointer fa fa-trash"}))))))};export{z as default};
