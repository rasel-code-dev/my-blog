import{R as e,L as i,F as p,h as f,z as v,e as S,u as y,r as d,A as x}from"./vendor.5bc579f6.js";import{q as g}from"./index.1b296300.js";import{f as u,d as N,a as b,b as P}from"./index.10e77920.js";const _=()=>e.createElement("div",{className:"lds-ripple"},e.createElement("div",null),e.createElement("div",null)),w=s=>{const{post:t,authId:c}=s;return e.useState({}),e.createElement("div",null,e.createElement(i,{to:`/posts/${t.slug}`},e.createElement("div",{className:"bg-gray-9 bg-opacity-50 flex my-2 rounded"},e.createElement("div",{style:{width:"100px"},className:"post_cover mr-2"},e.createElement("img",{className:"w-full flex post_img",src:u(t.cover),alt:""})),e.createElement("div",{key:t.id,className:""},e.createElement("div",{className:"post-meta"},e.createElement("div",{className:"flex"},e.createElement("div",null,t.author.avatar?e.createElement("img",{className:"w-5 rounded-full",src:u(t.author.avatar),alt:""}):e.createElement(p,{icon:f})),e.createElement("div",{className:"flex justify-between flex-wrap"},e.createElement("h4",{className:"ml-1 text-sm mr-1"},t.author.username),e.createElement("span",{className:"text-xs font-medium"},"Created at : ",new Date(t.created_at).toLocaleDateString())))),e.createElement("h4",{className:"title text-sm mt-1"},t.title)))))},C=s=>{const[t,c]=e.useState(!1),{postState:a,authState:E}=s;e.useState({}),e.useState({pageSize:1,currentPage:1});const r=S(),m=y();let n=g.parse(m.location.search);d.exports.useEffect(()=>{a.posts.length<1&&(c(!0),b(r,()=>c(!1)))},[]),d.exports.useEffect(async()=>{let l=n.search;if(l){let o=P(a.posts,l.trim().toLowerCase());o.length>0?(r({type:"SEARCH_POSTS",payload:o}),r({type:"SET_POST_SEARCH_VALUE",payload:l.trim().toLowerCase()}),m.replace(`/?search=${l}`)):(r({type:"SEARCH_POSTS",payload:[]}),m.replace(`/?search=${l}`))}else r({type:"SEARCH_POSTS",payload:a.posts})},[n&&n.search&&n.search]);function h(l){r({type:"SET_POST_SEARCH_VALUE",payload:""}),r({type:"SEARCH_POSTS",payload:a.posts}),m.replace("/")}return e.createElement("div",null,e.createElement("div",{className:"px-0"},e.createElement("div",{className:"posts_wrapper"},e.createElement("div",{className:"filter_items mt-4"},e.createElement("div",{className:"flex justify-between"}),a.searchValue&&e.createElement("ul",{className:"flex align-center"},e.createElement("h4",{className:"title"},"search by :"),e.createElement("h4",{className:"title search_text"},a.searchValue),e.createElement(p,{icon:x,className:"ml-5 cursor-pointer text-red-400",onClick:h}))),e.createElement("div",{className:"border-b mb-5"}),e.createElement("div",{className:"mx-auto flex justify-center"},t&&e.createElement(_,null)),a.searchResultPosts.length<=0?e.createElement("h4",{className:"title text-sm"},"not posts matched with ",a.searchValue):a.searchResultPosts.map(l=>e.createElement(w,{post:l,authId:E.id})))))};function A(s){return{postState:s.postState,authState:s.authState}}var L=v(A,{deletePost:N})(C);const j=()=>{let s=[{s:"javascript",label:"Javascript"},{s:"react",label:"React"},{s:"programming",label:"Programming"},{s:"web development",label:"Web Development"}];return e.createElement("div",{className:"container"},e.createElement("div",{className:"top_art mx-auto bg-gray-9 bg-opacity-70 rounded flex px-4  "},s.map((t,c)=>e.createElement("li",{key:c,className:"m-1"},e.createElement(i,{className:"text-gray-600 text-sm font-medium",to:`/?search=${t.s}`},"#",t.label)))),e.createElement(L,null))};export{j as default};
